{
  "providers": {
    "internet_archive": true,
    "bnf_gallica": true,
    "loc": true,
    "europeana": true,
    "dpla": true,
    "ddb": true,
    "british_library": false,
    "mdz": true,
    "polona": true,
    "bne": false,
    "google_books": true,
    "hathitrust": true,
    "wellcome": true
  },
  "provider_settings": {
    "mdz": {
      "max_pages": 0,
      "network": {
        "delay_ms": 300,
        "jitter_ms": 150,
        "max_attempts": 25,
        "base_backoff_s": 1.5,
        "backoff_multiplier": 1.5,
        "timeout_s": 30
      }
    },
    "gallica": {
      "max_pages": 0,
      "network": {
        "delay_ms": 1500,
        "jitter_ms": 400,
        "max_attempts": 25,
        "base_backoff_s": 1.5,
        "backoff_multiplier": 1.6,
        "timeout_s": 30
      }
    },
    "loc": {
      "max_pages": 0,
      "network": {
        "delay_ms": 300,
        "jitter_ms": 150,
        "max_attempts": 5,
        "base_backoff_s": 1.5,
        "backoff_multiplier": 1.5,
        "timeout_s": 30,
        "headers": { "Accept": "application/json" }
      }
    },
    "ddb": {
      "max_pages": 0,
      "network": {
        "delay_ms": 400,
        "jitter_ms": 200,
        "max_attempts": 5,
        "base_backoff_s": 1.5,
        "backoff_multiplier": 1.5,
        "timeout_s": 30
      }
    },
    "polona": {
      "max_pages": 0,
      "network": {
        "delay_ms": 600,
        "jitter_ms": 200,
        "max_attempts": 8,
        "base_backoff_s": 1.5,
        "backoff_multiplier": 1.5,
        "timeout_s": 30
      }
    },
    "europeana": {
      "max_pages": 0,
      "network": {
        "delay_ms": 400,
        "jitter_ms": 200,
        "max_attempts": 10,
        "base_backoff_s": 1.5,
        "backoff_multiplier": 1.5,
        "timeout_s": 30
      }
    },
    "dpla": {
      "max_pages": 0,
      "network": {
        "delay_ms": 400,
        "jitter_ms": 200,
        "max_attempts": 10,
        "base_backoff_s": 1.5,
        "backoff_multiplier": 1.5,
        "timeout_s": 30,
        "headers": { "Accept": "application/json" }
      }
    },
    "google_books": {
      "free_only": true,
      "prefer": "pdf",
      "allow_drm": false,
      "max_files": 1000,
      "network": {
        "delay_ms": 200,
        "jitter_ms": 100,
        "max_attempts": 25,
        "base_backoff_s": 1.2,
        "backoff_multiplier": 1.5,
        "timeout_s": 30,
        "headers": { "Referer": "https://books.google.com/" }
      }
    },
    "wellcome": {
      "max_images": 0,
      "network": {
        "delay_ms": 300,
        "jitter_ms": 150,
        "max_attempts": 25,
        "base_backoff_s": 1.5,
        "backoff_multiplier": 1.5,
        "timeout_s": 30
      }
    }
  },
  "download": {
    "prefer_pdf_over_images": false,
    "download_manifest_renderings": true,
    "max_renderings_per_manifest": 5,
    "rendering_mime_whitelist": ["application/pdf", "application/epub+zip"],
    "overwrite_existing": false,
    "include_metadata": true
  },
  "selection": {
    "strategy": "collect_and_select",
    "provider_hierarchy": [
      "mdz",
      "bnf_gallica",
      "google_books",
      "internet_archive",
      "wellcome",
      "loc",
      "europeana",
      "dpla",
      "ddb",
      "polona",
      "hathitrust"
    ],
    "min_title_score": 85,
    "creator_weight": 0.2,
    "year_tolerance": 2,
    "max_candidates_per_provider": 5,
    "download_strategy": "selected_only",
    "keep_non_selected_metadata": false
  },
  "naming": {
    "include_creator_in_work_dir": true,
    "include_year_in_work_dir": true,
    "title_slug_max_len": 80
  },
  "download_limits": {
    "max_total_files": 60000,
    "max_total_bytes": 150000000000,
    "per_work": { "max_files": 5000, "max_bytes": 5000000000 },
    "per_provider": {
      "internet_archive": { "max_files": 20000, "max_bytes": 50000000000 },
      "bnf_gallica": { "max_files": 20000, "max_bytes": 50000000000 },
      "loc": { "max_files": 10000, "max_bytes": 25000000000 },
      "mdz": { "max_files": 10000, "max_bytes": 25000000000 },
      "dpla": { "max_files": 8000, "max_bytes": 20000000000 },
      "ddb": { "max_files": 8000, "max_bytes": 20000000000 },
      "europeana": { "max_files": 8000, "max_bytes": 20000000000 },
      "polona": { "max_files": 4000, "max_bytes": 10000000000 },
      "google_books": { "max_files": 8000, "max_bytes": 15000000000 },
      "hathitrust": { "max_files": 8000, "max_bytes": 15000000000 },
      "wellcome": { "max_files": 8000, "max_bytes": 20000000000 }
    },
    "on_exceed": "stop"
  }
}
